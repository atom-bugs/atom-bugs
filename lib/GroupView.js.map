{"version":3,"file":"GroupView.js","sourceRoot":"","sources":["../src2/GroupView.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel';\n/*!\n * XAtom Debug\n * Copyright(c) 2017 Williams Medina <williams.medinaa@gmail.com>\n * MIT Licensed\n */\nconst { CompositeDisposable, Emitter, Disposable } = require('atom');\nimport { get, forEach, isEqual } from 'lodash';\nimport { View, ViewElement, Element } from './View';\nimport { CallFrame } from './debug';\n\nexport interface GroupViewOptions {\n  title: string;\n  selectable?: boolean;\n  actions?: any;\n}\n\n@View({\n  name: 'xatom-group',\n  template: `<header class=\"xatom-group-header\"></header>\n  <section class=\"xatom-group-body\"></section>`\n})\nexport class GroupView {\n  public element: HTMLElement;\n  private groupItems: any[] = [];\n  private emitter = new Emitter();\n  @Element('.xatom-group-body') contentElement: HTMLButtonElement;\n  @Element('.xatom-group-header') headerElement: HTMLElement;\n  constructor (\n    private viewElement: ViewElement,\n    private options: GroupViewOptions) {\n    this.element = this.getElement();\n  }\n  removeItems () {\n    if (this.contentElement){\n      this.contentElement.innerHTML = '';\n    }\n  }\n  getItem (data: any) {\n    return this.groupItems.find((groupItem) => {\n      return isEqual(groupItem.data, data);\n    });\n  }\n  removeItem (data: any) {\n    const groupItem = this.getItem(data);\n    if (groupItem) {\n      groupItem.item.remove();\n      const index = this.groupItems.indexOf(groupItem);\n      this.groupItems.splice(index, 1);\n    }\n  }\n  activate (item) {\n    this.groupItems.forEach((groupItem) => {\n      if (groupItem === item) {\n        groupItem.item.classList.add('active');\n        this.emitter.emit('didSelect', groupItem);\n      } else {\n        groupItem.item.classList.remove('active');\n      }\n    });\n  }\n  onDidSelect (cb: Function) {\n    return this.emitter.on('didSelect', cb);\n  }\n  addItem (item: HTMLElement, data: any) {\n    const groupItem = {\n      item,\n      data\n    }\n    this.groupItems.push(groupItem);\n    if (this.options.selectable) {\n      item.addEventListener('click', () => this.activate(groupItem));\n    }\n    this.contentElement.appendChild(groupItem.item);\n    return groupItem;\n  }\n  viewDidLoad () {\n    // <i class=\"xatom-icon\" name=\"step-over\"></i>\n    this.headerElement.innerHTML = `<span class=\"xatom-group-title\"> ${this.options.title} </span>`;\n    forEach(get(this, 'options.actions', []), (value, key) => {\n      const button = document.createElement('button');\n      button.innerText = key.toString();\n      button.classList.add('btn');\n      button.addEventListener('click', () => value());\n      this.headerElement.appendChild(button);\n    })\n  }\n  getElement () {\n    return this.viewElement.element;\n  }\n}\n"]}