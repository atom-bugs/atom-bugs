{"version":3,"file":"DebugControlView.js","sourceRoot":"","sources":["../src2/DebugControlView.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel';\n/*!\n * XAtom Debug\n * Copyright(c) 2017 Williams Medina <williams.medinaa@gmail.com>\n * MIT Licensed\n */\nconst { CompositeDisposable, Emitter, Disposable } = require('atom');\nimport { View, Action, Element, ViewElement } from './View';\nimport { DEBUG_AREA_URI } from './DebugAreaView';\n\n@View({\n  name: 'xatom-debug-navigator',\n  template: `<div class=\"btn-toolbar\">\n    <div class=\"btn-group\">\n      <button class=\"xatom-debug-collapse btn\">\n        <i class=\"xatom-icon\" name=\"collapse-in\"></i>\n      </button>\n    </div>\n    <div class=\"btn-group\">\n      <button class=\"xatom-debug-state btn\">\n        <i class=\"xatom-icon\" name=\"pause\"></i>\n      </button>\n    </div>\n    <div class=\"btn-group\">\n      <button class=\"xatom-debug-step-over btn\" disabled=\"true\">\n        <i class=\"xatom-icon\" name=\"step-over\"></i>\n      </button>\n    </div>\n    <div class=\"btn-group\">\n      <button class=\"xatom-debug-step-into btn\" disabled=\"true\">\n        <i class=\"xatom-icon\" name=\"step-into\"></i>\n      </button>\n    </div>\n    <div class=\"btn-group\">\n      <button class=\"xatom-debug-step-out btn\" disabled=\"true\">\n        <i class=\"xatom-icon\" name=\"step-out\"></i>\n      </button>\n    </div>\n  </div>`\n})\nexport class DebugControlView {\n  private panel: any;\n  public emitter = new Emitter();\n  constructor (private viewElement: ViewElement) {\n    this.panel = atom.workspace.addBottomPanel({\n      item: this.getElement(),\n      visible: false\n    });\n  }\n  @Element('.xatom-debug-state') stateElement: HTMLButtonElement;\n  @Element('.xatom-debug-state .xatom-icon') stateIconElement: HTMLElement;\n  @Element('.xatom-debug-step-over') stepOverElement: HTMLButtonElement;\n  @Element('.xatom-debug-step-into') stepIntoElement: HTMLButtonElement;\n  @Element('.xatom-debug-step-out') stepOutElement: HTMLButtonElement;\n  @Action('click', '.xatom-debug-collapse') collapse () {\n    atom.workspace.toggle(DEBUG_AREA_URI);\n  }\n  @Action('click', '.xatom-debug-state') continue () {\n    const type = this.stateIconElement.getAttribute('name');\n    if (type === 'continue') {\n      this.emitter.emit('didContinue');\n    } else {\n      this.emitter.emit('didPause');\n    }\n  }\n  @Action('click', '.xatom-debug-step-over') stepOver () {\n    this.emitter.emit('didStepOver');\n  }\n  @Action('click', '.xatom-debug-step-into') stepInto () {\n    this.emitter.emit('didStepInto');\n  }\n  @Action('click', '.xatom-debug-step-out') stepOut () {\n    this.emitter.emit('didStepOut');\n  }\n  onDidContinue (cb) {\n    return this.emitter.on('didContinue', cb);\n  }\n  onDidPause (cb) {\n    return this.emitter.on('didPause', cb);\n  }\n  onDidStepOver (cb) {\n    return this.emitter.on('didStepOver', cb);\n  }\n  onDidStepInto (cb) {\n    return this.emitter.on('didStepInto', cb);\n  }\n  onDidStepOut (cb) {\n    return this.emitter.on('didStepOut', cb);\n  }\n  enableControls () {\n      this.stateIconElement.setAttribute('name', 'continue');\n    this.stepOverElement.disabled = false;\n    this.stepIntoElement.disabled = false;\n    this.stepOutElement.disabled = false;\n  }\n  disableControls () {\n    this.stateIconElement.setAttribute('name', 'pause');\n    this.stepOverElement.disabled = true;\n    this.stepIntoElement.disabled = true;\n    this.stepOutElement.disabled = true;\n  }\n  getElement () {\n    return this.viewElement.element;\n  }\n  hide () {\n    this.panel.hide();\n  }\n  show () {\n    this.panel.show();\n  }\n  destroy () {\n    this.hide();\n    this.viewElement.element.remove();\n  }\n}\n"]}