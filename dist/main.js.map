{"version":3,"file":"main.js","sourceRoot":"","sources":["../lib/main.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel';\n\nimport {\n  BugsToolbarView,\n  BugsBreakpointManager,\n  BugsPluginManager,\n  BugsDebugView\n} from './bugs/index';\n\nconst { CompositeDisposable } = require('atom');\n\n// function delay(milliseconds: number) {\n//   return new Promise<void>(resolve => {\n//     setTimeout(resolve, milliseconds);\n//   });\n// }\n//\n// async function dramaticWelcome() {\n//     console.log(\"Hello\");\n//     for (let i = 0; i < 3; i++) {\n//         await delay(500);\n//         console.log(\".\");\n//     }\n//     console.log(\"World!\");\n// }\n//\n// dramaticWelcome();\n\nexport default {\n  subscriptions: null,\n\n  breakpointManager: null,\n  pluginManager: null,\n\n  toolbarView: null,\n  schemeView: null,\n  debugView: null,\n\n  toolbarPanel: null,\n\n\n  activate (state: any) {\n\n    // Create bugs instances\n    this.toolbarView = new BugsToolbarView();\n    this.debugView = new BugsDebugView();\n    this.breakpointManager = new BugsBreakpointManager();\n    this.pluginManager = new BugsPluginManager();\n\n    // Toolbar Panel\n    this.toolbarPanel = atom.workspace.addTopPanel({\n      item: this.toolbarView.getElement(),\n      visible: true\n    });\n\n    // Debug Area Panel\n    this.debugPanel = atom.workspace.addTopPanel({\n      item: this.debugView.getElement(),\n      visible: true\n    });\n\n    console.log('this.debugPanel', this.debugPanel)\n\n    // Activate Selected Plugin\n    this.pluginManager.didAddPlugin((plugin) => {\n      let currentPlugin = this.toolbarView.getSelectedScheme()\n      if (plugin.name === currentPlugin.name) {\n        this.toolbarView.setScheme(plugin);\n      }\n    })\n    // Open Scheme Editor\n    this.toolbarView.didOpenSchemeEditor(() => {\n      console.log('open editor')\n    })\n    // set Paths\n    let projects = atom.project['getPaths']()\n    this.toolbarView.setPaths(projects)\n    // observe path changes\n    atom.project.onDidChangePaths((projects) => this.toolbarView.setPaths(projects))\n    // observe editors\n    atom.workspace['observeActivePaneItem']((editor) => {\n      if (editor.getPath && editor.editorElement) {\n        this.breakpointManager.observeEditor(editor)\n      }\n    })\n    // Events subscribed to in atom's system can be easily cleaned up with a CompositeDisposable\n    this.subscriptions = new CompositeDisposable();\n    this.subscriptions.add(atom.commands.add('atom-workspace', {\n      'atom-bugs:debug': () => this.debug(),\n      'atom-bugs:pause': () => this.debug(),\n      'atom-bugs:stop': () => this.debug()\n    }));\n  },\n\n  provideBugsService () {\n    return this.pluginManager;\n  },\n\n  deactivate () {\n    this.subscriptions.dispose();\n    // destroy panels\n    this.toolbarPanel.destroy();\n    this.debugPanel.destroy();\n    // destroys views\n    this.toolbarView.destroy();\n    this.debugView.destroy();\n  },\n\n  debug () {\n    // toggle debug\n    console.log('toggle')\n  }\n};\n"]}